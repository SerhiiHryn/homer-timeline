(this["webpackJsonphomer-timeline"]=this["webpackJsonphomer-timeline"]||[]).push([[0],{147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(21),l=n.n(c),u=n(12),i=n(66),o=n.n(i),s=function(){return{type:"EVENT/LOADING_START"}},E=function(){return{type:"EVENT/LOADING_END"}},v=function(e){return{type:"EVENT/SHOW_NEW_EVENT_FORM",payload:{data:e}}},m=function(e){return{type:"EVENT/SET_NEW_EVENT",payload:{data:e}}},d=function(e){return{type:"EVENT/ADD_EVENT",payload:{data:e}}},p=function(e){return{type:"EVENT/ADD_EVENT_SUCCESS",payload:{data:e}}},f=function(e){return{type:"EVENT/ADD_EVENT_ERROR",payload:{error:e}}},b=function(){return{type:"EVENT/GET_EVENTS"}},N=function(e){return{type:"EVENT/GET_EVENTS_SUCCESS",payload:{data:e}}},h=function(e){return{type:"EVENT/GET_EVENTS_ERROR",payload:{error:e}}},O=(n(85),function(){var e=Object(u.b)();return r.a.createElement("div",{className:"add-event-container"},r.a.createElement("div",{className:"add-button"},r.a.createElement("img",{src:o.a,alt:"add-event",onClick:function(){e(v(!0))}})))}),_=n(15),g=n.n(_),j=n(67),T=n(35),w=n(9),y=n(73),S=n(68),V=n.n(S),x=(n(87),function(e){var t=e.value,n=e.onChange;return r.a.createElement("div",{className:"date-picker-container"},r.a.createElement(V.a,{selected:t?new Date(t):null,onChange:n,placeholderText:"Select event date",showYearDropdown:!0,showMonthDropdown:!0,dateFormat:"MMMM d, yyyy"}))}),D=(n(147),function(e){var t=e.label,n=e.value,a=e.name,c=e.id,l=e.type,u=e.placeholder,i=e.onChange;return r.a.createElement("div",{className:"input"},t?r.a.createElement("label",{className:"input__label",htmlFor:c},t):null,r.a.createElement("input",{id:c,name:a,type:l,value:n,placeholder:u,onChange:i}))}),C=(n(148),function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),F=(n(149),function(){var e=Object(u.b)(),t=Object(a.useState)(!1),n=Object(y.a)(t,2),c=n[0],l=n[1],i=Object(u.c)((function(e){return e.event})),o=i.loading,s=i.showNewEventForm,E=i.newEvent,p=["event-form"];s&&p.push("show");var f=function(t){c&&l(!1),e(m(Object(w.a)(Object(w.a)({},E),{},Object(T.a)({},t.target.name,t.target.value))))},b=function(){var t=Object(j.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E.title&&E.date){t.next=3;break}return l(!0),t.abrupt("return");case 3:e(d(E));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:p.join(" ")},o?r.a.createElement(C,null):null,r.a.createElement("div",{className:"event-form__title"},"Add a new event"),r.a.createElement("div",{className:"event-form__cancel-btn",onClick:function(){e(m({title:"",description:"",tag:""})),e(v(!1))}},"\xd7"),r.a.createElement("div",{className:"event-form__fields"},r.a.createElement(D,{name:"title",type:"text",value:E.title,placeholder:"Title",onChange:f}),r.a.createElement(D,{name:"description",type:"text",value:E.description,placeholder:"Description",onChange:f}),r.a.createElement(D,{name:"tag",type:"text",value:E.tag,placeholder:"Tag",onChange:f}),r.a.createElement(D,{name:"thumbnail",type:"file",value:E.thumbnail,onChange:f}),r.a.createElement(x,{value:E.date,onChange:function(t){var n=JSON.stringify(t);e(m(Object(w.a)(Object(w.a)({},E),{},{date:n.substring(1,n.length-1)})))}})),r.a.createElement("div",{className:"event-form__save-button"},r.a.createElement("button",{onClick:b},"Save and Publish")),c?r.a.createElement("div",{className:"event-form__error"},"Please fill required fields:",r.a.createElement("ul",null,r.a.createElement("li",null,"Title"),r.a.createElement("li",null,"Date"))):null)}),k=n(71),A=n.n(k),R=function(e){return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})},G=function(e){return!!e&&new Date(e).getTime()>Date.now()};n(150);var W=function(e){var t=e.event,n=e.showYear,a=e.isFutureEvent;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement("span",{className:"event-year"},function(e){return new Date(e.date).getFullYear()}(t)):null,r.a.createElement("div",{className:"event-container"},r.a.createElement("div",{className:"event ".concat(a?"future":"")},r.a.createElement("div",{className:"event__thumbnail"},r.a.createElement("img",{src:A.a,alt:t.tag})),t.tag?r.a.createElement("div",{className:"event__tag"},r.a.createElement("div",{className:"event__tag__spacer"}),r.a.createElement("div",{className:"event__tag__text"},t.tag)):null,r.a.createElement("div",{className:"event__title"},r.a.createElement("div",{className:"event__title__connector-line"}),r.a.createElement("div",{className:"event__title__text"},t.title)),r.a.createElement("div",{className:"event__description"},t.description),r.a.createElement("div",{className:"event__date"},R(t.date)))))},I=(n(151),function(e){var t=e.events,n=e.isFutureEvent,a=[];return r.a.createElement("div",{className:"events ".concat(n?"future":"past")},t.map((function(e){var t=new Date(e.date).getFullYear(),c=!a.includes(t);return c&&a.push(t),r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(W,{event:e,showYear:c,isFutureEvent:n}))})))}),M=(n(152),function(){return r.a.createElement("div",{className:"divider-container"},r.a.createElement("div",{className:"divider"}))}),J=(n(153),function(e){var t=e.pastEvents,n=e.futureEvents,a=Object(u.c)((function(e){return e.event})),c=a.loading,l=a.showNewEventForm,i=!!n.length,o=!!t.length,s=["timeline"];return i||o||s.push("center"),c&&!l?r.a.createElement(C,null):r.a.createElement("div",{className:s.join(" ")},i?r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{events:n,isFutureEvent:!0}),r.a.createElement(M,null)):null,r.a.createElement(O,null),r.a.createElement(F,null),o?r.a.createElement(I,{events:t,isFutureEvent:!1}):null)});n(154);var L=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.event})),n=t.pastEvents,c=t.futureEvents;return Object(a.useEffect)((function(){e(b())}),[e]),r.a.createElement("div",{className:"app"},r.a.createElement(J,{pastEvents:n,futureEvents:c}))},Y=n(16),P=n(74),U=n(72),B=n(32),H=n(75),q={addEvent:function(e){return new Promise((function(t){setTimeout((function(){var n=JSON.parse(localStorage.getItem("events")||"[]");e.id=Date.now(),n.push(e),localStorage.setItem("events",JSON.stringify(n)),t(e)}),1e3)}))},getEvents:function(){return new Promise((function(e){setTimeout((function(){var t=JSON.parse(localStorage.getItem("events")||"[]");e(t)}),1e3)}))},sortEvents:function(e){var t=[],n=[];return e.forEach((function(e){G(e.date)?n.push(e):t.push(e)})),this.orderEvents(t),this.orderEvents(n),{pastEvents:t,futureEvents:n}},orderEvents:function(e){Object(H.a)(e,{by:"date",order:"desc"})}},$={pastEvents:[],futureEvents:[],showNewEventForm:!1,newEvent:{title:"",description:"",tag:""},loading:!1,error:null},z=Object(Y.combineReducers)({event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EVENT/ADD_EVENT_SUCCESS":var n=t.payload.data;if(G(n.date)){var a=[].concat(Object(B.a)(e.futureEvents),[n]);return q.orderEvents(a),Object(w.a)(Object(w.a)({},e),{},{futureEvents:a})}var r=[].concat(Object(B.a)(e.pastEvents),[n]);return q.orderEvents(r),Object(w.a)(Object(w.a)({},e),{},{pastEvents:r});case"EVENT/GET_EVENTS_SUCCESS":var c=q.sortEvents(t.payload.data),l=c.pastEvents,u=c.futureEvents;return Object(w.a)(Object(w.a)({},e),{},{pastEvents:l,futureEvents:u});case"EVENT/SHOW_NEW_EVENT_FORM":return Object(w.a)(Object(w.a)({},e),{},{showNewEventForm:t.payload.data});case"EVENT/SET_NEW_EVENT":return Object(w.a)(Object(w.a)({},e),{},{newEvent:t.payload.data});case"EVENT/LOADING_START":return Object(w.a)(Object(w.a)({},e),{},{loading:!0});case"EVENT/LOADING_END":return Object(w.a)(Object(w.a)({},e),{},{loading:!1});default:return Object(w.a)({},e)}}}),K=n(10),Q=g.a.mark(Z),X=g.a.mark(ee);function Z(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(K.c)(s());case 3:return n.next=5,Object(K.b)(q.addEvent,e.payload.data);case 5:return t=n.sent,n.next=8,Object(K.c)(p(t));case 8:return n.next=10,Object(K.c)(v(!1));case 10:return n.next=12,Object(K.c)(m({title:"",description:"",tag:""}));case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(K.c)(f(n.t0));case 18:return n.prev=18,n.next=21,Object(K.c)(E());case 21:return n.finish(18);case 22:case"end":return n.stop()}}),Q,null,[[0,14,18,22]])}function ee(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(K.c)(s());case 3:return t.next=5,Object(K.b)(q.getEvents);case 5:return e=t.sent,t.next=8,Object(K.c)(N(e));case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(K.c)(h(t.t0));case 14:return t.prev=14,t.next=17,Object(K.c)(E());case 17:return t.finish(14);case 18:case"end":return t.stop()}}),X,null,[[0,10,14,18]])}var te=[Object(K.d)("EVENT/ADD_EVENT",Z),Object(K.d)("EVENT/GET_EVENTS",ee)],ne=g.a.mark(ae);function ae(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.a)(Object(B.a)(te));case 2:case"end":return e.stop()}}),ne)}var re=Object(P.a)(),ce=Object(Y.createStore)(z,Object(U.composeWithDevTools)(Object(Y.applyMiddleware)(re)));re.run(ae);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(155);l.a.render(r.a.createElement(u.a,{store:ce},r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,n){e.exports=n.p+"static/media/add-event-button.c3e113c1.svg"},71:function(e,t,n){e.exports=n.p+"static/media/thumbnail.0e9f86f2.jpg"},76:function(e,t,n){e.exports=n(156)},85:function(e,t,n){},87:function(e,t,n){}},[[76,1,2]]]);
//# sourceMappingURL=main.6ae38cad.chunk.js.map